<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="https://cubism.live2d.com/sdk-web/cubismcore/live2dcubismcore.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/dylanNew/live2d/webgl/Live2D/lib/live2d.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js" crossorigin="anonymous"></script>
    <script type="text/javascript" src="./face-api.min.js""></script>
    <script type="text/javascript" src="./web-boardcast-core.bundle.js"></script>
    <title>Document</title>
</head>
<body>
    <script defer>
        const settings = {
            width: 1920,
            height: 1080,
            platform: 'Youtube',
            stream_key: 'sxz2-hwfy-67b5-sydy-4q20',
            fps: 60,
            vbps: 18662000,
            abps: 712000,
        }

        const WBS = new webBroadcastCore.WebBroadcastSystem(settings);

        const canvas = WBS.getApplicationView();
        canvas.style.width = '100%';
        canvas.style.height = '100%';
        document.body.appendChild(canvas);

        WBS.getScenesWrapper().createScene('NEW');
        WBS.getScenesWrapper().focusScene('NEW');

        // let source = WBS.getScenesWrapper().getSceneByID('NEW').getSourcesWrapper().createVideoSource('1', '1.mkv', true);
        // WBS.getScenesWrapper().getSceneByID('NEW').getSourcesWrapper().addSource(source);

        // source = WBS.getScenesWrapper().getSceneByID('NEW').getSourcesWrapper().createImageSource('2', '2.jpg');
        // WBS.getScenesWrapper().getSceneByID('NEW').getSourcesWrapper().addSource(source);

        // WBS.getScenesWrapper().getSceneByID('NEW').getSourcesWrapper().setSourceVisiabilityByID('2', false);

        // console.log(WBS.getScenesWrapper().getSceneByID('NEW').getSourcesWrapper().getSourceMetaDataByID('2'));

        // source = WBS.getScenesWrapper().getSceneByID('NEW').getSourcesWrapper().createImageSource('3', '3.jpg');
        // WBS.getScenesWrapper().getSceneByID('NEW').getSourcesWrapper().addSource(source);

        // WBS.getScenesWrapper().getSceneByID('NEW').getSourcesWrapper().createVirtualModel('VIRTUAL', './preview_2.zip').then((source) => {
        //     WBS.getScenesWrapper().getSceneByID('NEW').getSourcesWrapper().addSource(source);
        // });

        // WBS.getScenesWrapper().getSceneByID('NEW').getSourcesWrapper().createScreenSource('SCREEN', metadata).then((source) => {
        //     WBS.getScenesWrapper().getSceneByID('NEW').getSourcesWrapper().addSource(source);
        // });
    </script>
</body>
</html>